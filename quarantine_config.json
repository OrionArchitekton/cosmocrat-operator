{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$comment": "Operator Plane UI Quarantine Configuration - Wave 1",
  "version": "1.1.0",
  "mode": "operator-plane-v1.1",
  "frozen": "2026-01-13",
  "wave": "1",
  
  "quarantine": {
    "executors": {
      "enabled": true,
      "single_attempt_only": true,
      "comment": "WAVE 1: Executors enabled with single-attempt constraint. All execution through Chronicle gates.",
      "disabled_agents": [
        "claude_code",
        "codex",
        "cursor_agent",
        "copilot",
        "gemini",
        "droid",
        "amp",
        "opencode",
        "qwen_code"
      ]
    },
    "mcp": {
      "server_enabled": false,
      "client_enabled": false,
      "comment": "WAVE 2: MCP server/client disabled - requires dogfood validation"
    },
    "chat": {
      "command_bar_enabled": false,
      "follow_up_messages_enabled": false,
      "queued_scratches_enabled": false,
      "comment": "WAVE 2: Chat features disabled - requires dogfood validation"
    },
    "automation": {
      "auto_task_generation_enabled": false,
      "agent_profiles_enabled": false,
      "background_agents_enabled": false,
      "comment": "auto_task_generation and background_agents are PERMANENTLY DISABLED"
    }
  },
  
  "enabled_features": {
    "kanban_board": true,
    "task_cards": true,
    "task_state_model": true,
    "task_detail_panel": true,
    "diff_viewer": true,
    "file_tree": true,
    "dev_logs_panel": true,
    "git_worktree_manager": true,
    "attempt_model": true,
    "pr_interface": true,
    "github_oauth": true,
    "start_attempt": true,
    "attempt_detail_view": true
  },
  
  "wave_1_features": {
    "projects_tasks_kanban": {
      "enabled": true,
      "routes": ["/projects", "/projects/:projectId/tasks"],
      "ui_copy": "Planning & review only. No execution occurs without explicit start."
    },
    "task_attempt_detail": {
      "enabled": true,
      "components": ["TaskAttemptPanel", "logs", "diffs"],
      "ui_copy": "Viewing attempt outputs. All changes require approval."
    },
    "start_attempt": {
      "enabled": true,
      "constraint": "single_attempt_only",
      "ui_copy": "Attempt started. Monitor progress â€“ approvals still required at each gate."
    }
  },
  
  "wave_2_features": {
    "follow_up_messages": {
      "enabled": false,
      "requires": "dogfood_validation"
    },
    "agent_profiles_ui": {
      "enabled": false,
      "requires": "dogfood_validation"
    },
    "mcp_integration": {
      "enabled": false,
      "requires": "dogfood_validation"
    },
    "chat_command_bar": {
      "enabled": false,
      "requires": "dogfood_validation"
    }
  },
  
  "permanently_disabled": {
    "auto_task_generation": {
      "reason": "Violates 'does not create work' invariant",
      "reference": "PERMANENTLY_DISABLED.md"
    },
    "background_agents": {
      "reason": "Violates 'no background execution' invariant",
      "reference": "PERMANENTLY_DISABLED.md"
    },
    "streaming_chat_execution": {
      "reason": "Bypasses gate stepwise approval",
      "reference": "PERMANENTLY_DISABLED.md"
    }
  },
  
  "rewired_features": {
    "run_button": {
      "original": "run_agent",
      "rewired_to": "g2_execute_gate",
      "endpoint": "/api/execute/authorize"
    },
    "diff_panels": {
      "original": "in_memory_agent_state",
      "rewired_to": "chronicle_backed_artifacts",
      "endpoint": "/api/chronicle/events"
    },
    "git_actions": {
      "original": "direct_git_ops",
      "rewired_to": "approval_gated_intents",
      "endpoint": "/api/approval/submit"
    },
    "pr_interface": {
      "original": "direct_pr_creation",
      "rewired_to": "g5_commit_pr_gate",
      "phase": "P1"
    }
  },
  
  "api_endpoints": {
    "intent_submit": {
      "path": "/api/intent/submit",
      "method": "POST",
      "gate": "G1"
    },
    "execute_authorize": {
      "path": "/api/execute/authorize",
      "method": "POST",
      "gate": "G2"
    },
    "approval_submit": {
      "path": "/api/approval/submit",
      "method": "POST",
      "gate": "G4"
    },
    "chronicle_events": {
      "path": "/api/chronicle/events",
      "method": "GET",
      "gate": null
    }
  },
  
  "enforcement": {
    "server_side": true,
    "ui_hiding": true,
    "route_blocking": false
  }
}
